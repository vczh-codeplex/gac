<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=8" />
<link rel="Stylesheet" type="text/css" href="../../PageStyle.css" />
<title>GacLib - Demos - Controls.Tab.TextBoxPage</title>
</head>
<body>
<table class="ContainerTable">
    <tr>
        <td align="center" valign="top">
            <table class="NavigateTable" cellpadding="0" cellspacing="4" >
                <tr>
                    <td class="NavigateHeader" colspan="6" align="left">
                        <div class="NavigateLogo Left"><img src="../../GacLib.png" /></div>
                        <div class="NavigateLogo Right">
                            <div><a class="Title" href="index.html">GacLib</a></div>
                            <div><div class="SubTitle">&nbsp;&nbsp;&nbsp;&nbsp;---- GPU Accelerated C++ User Interface</div></div>
                        </div>
                        <div class="NavigateLogo Clear"></div>
                    </td>
                </tr>
                <tr>
                    <td align="center" valign="middle">
                        <a class="MenuButton HomeButton" href="../../index.html">
                            HOME
                        </a>
                    </td>
                    <td align="center" valign="middle">
                        <a class="MenuButton GettingStartButton" href="../../GettingStart.html">
                            GETTING START
                        </a>
                    </td>
                    <td align="center" valign="middle">
                        <a class="MenuButton DemosButtonSelected" href="../../Demos.html">
                            DEMOS
                        </a>
                    </td>
                    <td align="center" valign="middle">
                        <a class="MenuButton DownloadButton" href="../../Download.html">
                            DOWNLOAD
                        </a>
                    </td>
                    <td align="center" valign="middle">
                        <a class="MenuButton DocumentButton" href="../../StaticHtmlDoc/reference_gacui.html">
                            DOCUMENT
                        </a>
                    </td>
                    <td align="center" valign="middle">
                        <a class="MenuButton ContactButton" href="../../Contact.html">
                            CONTACT
                        </a>
                    </td>
                </tr>
                <tr>
                    <td align="left" valign="top" colspan="6">
                        <h1>Tab.TextBoxPage</h1>
                        <img src="DXGUI_32.jpg" />
                        <img src="DXGUI_33.jpg" />
                        <pre class="CppCode">
#include "..\..\Public\Source\GacUIIncludes.h"
#include &lt;Windows.h&gt;

int CALLBACK WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpCmdLine, int CmdShow)
{
	return SetupWindowsDirect2DRenderer();
}

class TextBoxPage : public GuiTabPage
{
private:
	static int pageCounter;

	GuiButton*				closeButton;
	GuiMultilineTextBox*	textBox;
<strong>
	void closeButton_Clicked(GuiGraphicsComposition* sender, GuiEventArgs& arguments)
	{<strong class="ImportantCppCode">
		// deleteing the tab page will also delete the button, because the button is in the page
		// when an event is processing, the button is not going to be deleted
		// because there are many works to do after this event
		// and maybe someone has already added another event handler to this button
		// so it use GetApplication()->InvokeInMainThread to send a function to the queue
		// so that this function will be executed after this input message (an input message raises multiple events)
		// to the user, this page is closed after cliking this button</strong>
		GetApplication()->InvokeInMainThread([this]()
		{
			// remove the page and delete it
			this->GetOwnerTab()->RemovePage(this);
			delete this;
		});
	}
</strong>
	void <strong>OnPageContainerReady</strong>(GuiGraphicsComposition* sender, GuiEventArgs& arguments)
	{
		// create a table to place a button and a text box
		GuiTableComposition* table=new GuiTableComposition;
		table->SetRowsAndColumns(2, 1);
		table->SetRowOption(0, GuiCellOption::MinSizeOption());
		table->SetRowOption(1, GuiCellOption::PercentageOption(1.0));
		table->SetColumnOption(0, GuiCellOption::PercentageOption(1.0));
		table->SetAlignmentToParent(Margin(0, 0, 0, 0));
		table->SetCellPadding(2);

		{
			GuiCellComposition* cell=new GuiCellComposition;
			table->AddChild(cell);
			cell->SetSite(0, 0, 1, 1);
			
			closeButton=g::NewButton();
			closeButton->SetText(L"Close Me!");
			<strong>closeButton->Clicked.AttachMethod(this, &TextBoxPage::closeButton_Clicked);</strong>
			cell->AddChild(closeButton->GetBoundsComposition());
		}
		
		{
			GuiCellComposition* cell=new GuiCellComposition;
			table->AddChild(cell);
			cell->SetSite(1, 0, 1, 1);
			
			textBox=g::NewMultilineTextBox();
			textBox->GetBoundsComposition()->SetAlignmentToParent(Margin(0, 0, 0, 0));
			textBox->SetText(L"You can input several lines of text here.\r\nThis is a multiple line text box.");
			cell->AddChild(textBox->GetBoundsComposition());
		}

		this->GetContainer()->GetContainerComposition()->AddChild(table);
	}
public:
	TextBoxPage()
		:closeButton(0)
		,textBox(0)
	{
		<strong>PageContainerReady.AttachMethod(this, &TextBoxPage::OnPageContainerReady);</strong>
		this->SetText(L"TextBoxPage Sample No."+itow(++pageCounter));
	}

	~TextBoxPage()
	{
	}
};

int TextBoxPage::pageCounter=0;

class TextBoxPageWindow : public GuiWindow
{
private:
	GuiTab*						tabControl;
	GuiTabPage*					controlPanelPage;
	GuiButton*					buttonAddPage;
<strong>
	void buttonAddPage_Clicked(GuiGraphicsComposition* sender, GuiEventArgs& arguments)
	{
		// when the button is clicked, it creates a new TextBoxPage and adds it to the tab control
		TextBoxPage* page=new TextBoxPage;
		tabControl->CreatePage(page);
		tabControl->SetSelectedPage(page);
	}
</strong>
public:
	TextBoxPageWindow()
		:GuiWindow(GetCurrentTheme()->CreateWindowStyle())
	{
		this->SetText(L"Controls.Tab.TextBoxPage");
		this->GetBoundsComposition()->SetPreferredMinSize(Size(640, 480));

		// create a tab control
		tabControl=g::NewTab();
		tabControl->GetBoundsComposition()->SetAlignmentToParent(Margin(2, 2, 2, 2));
		this->AddChild(tabControl);

		// the first page is a control panel
		controlPanelPage=tabControl->CreatePage();
		controlPanelPage->SetText(L"Control Panel");

		// add a button to the control panel
		buttonAddPage=g::NewButton();
		buttonAddPage->SetText(L"Add a tab page");
		<strong>buttonAddPage->Clicked.AttachMethod(this, &TextBoxPageWindow::buttonAddPage_Clicked);</strong>
		controlPanelPage->GetContainer()->GetContainerComposition()->SetInternalMargin(Margin(2, 2, 2, 2));
		controlPanelPage->GetContainer()->AddChild(buttonAddPage);

		this->ForceCalculateSizeImmediately();
		this->MoveToScreenCenter();
	}

	~TextBoxPageWindow()
	{
	}
};

void GuiMain()
{
	GuiWindow* window=new TextBoxPageWindow();
	GetApplication()->Run(window);
	delete window;
}
                        </pre>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
</body>
</html>